% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/piles_spectral_filter.R
\name{piles_spectral_filter}
\alias{piles_spectral_filter}
\title{Spectral refinement of candidate slash piles}
\usage{
piles_spectral_filter(
  sf_data,
  rgb_rast,
  red_band_idx,
  green_band_idx,
  blue_band_idx,
  spectral_weight = 3,
  filter_return = T
)
}
\arguments{
\item{sf_data}{An sf object containing candidate pile polygons, usually
the output from \code{\link[=piles_detect]{piles_detect()}}.}

\item{rgb_rast}{A multi-band SpatRaster containing RGB imagery.}

\item{red_band_idx}{Integer. The index of the red band in the raster.}

\item{green_band_idx}{Integer. The index of the green band in the raster.}

\item{blue_band_idx}{Integer. The index of the blue band in the raster.}

\item{spectral_weight}{Numeric (0 to 1). The threshold or weight required
for a pile to pass the spectral voting filter.}
}
\value{
An sf object containing the final set of validated slash pile polygons.
}
\description{
Evaluates candidate segments generated by \code{\link[=piles_detect]{piles_detect()}}
against an RGB raster. It uses a voting system based on spectral indices
to separate woody slash material from background vegetation or ground.
}
\examples{
\dontrun{
# Assuming 'candidates' comes from piles_detect()
final_piles <- piles_spectral_filter(sf_data = candidates, rgb_rast = my_rgb,
                                     red_band_idx = 1, spectral_weight = 0.5)
}
}
