<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>implements steps to mitigate very long run-times when tuning random forests models — rf_tune_subsample • cloud2trees</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="implements steps to mitigate very long run-times when tuning random forests models — rf_tune_subsample"><meta name="description" content="rf_tune_subsample() implements steps to mitigate very long run-times when tuning random forests models.
randomForest::tuneRF() enables model tuning by searching for the optimal mtry parameter (the number of variables randomly sampled as candidates at each split) using a cross-validation approach.
However, computational cost increases significantly with the number of observations as randomForest::tuneRF() performs cross-validation internally for each mtry value it tries.
With 100,000+ observations, each of these cross-validation runs involves building and evaluating many random forest trees, making the process very time-consuming.
The computational cost of random forests is driven by the repeated tree building process,
which involves recursive partitioning, bootstrapping, and feature subset selection.
These operations, when performed on massive datasets, result in a significant computational burden.
rf_tune_subsample() remedies these issues via:
Reducing the ntreeTry parameter to a smaller value. Tuning will be less precise, but it will finish in a reasonable time. The ntree parameter can then be increased for the final model.
Subsampling. Uses a smaller, representative subsample of the data (e.g., 10-20% of your data) to find a good mtry value on the subsample.

"><meta property="og:description" content="rf_tune_subsample() implements steps to mitigate very long run-times when tuning random forests models.
randomForest::tuneRF() enables model tuning by searching for the optimal mtry parameter (the number of variables randomly sampled as candidates at each split) using a cross-validation approach.
However, computational cost increases significantly with the number of observations as randomForest::tuneRF() performs cross-validation internally for each mtry value it tries.
With 100,000+ observations, each of these cross-validation runs involves building and evaluating many random forest trees, making the process very time-consuming.
The computational cost of random forests is driven by the repeated tree building process,
which involves recursive partitioning, bootstrapping, and feature subset selection.
These operations, when performed on massive datasets, result in a significant computational burden.
rf_tune_subsample() remedies these issues via:
Reducing the ntreeTry parameter to a smaller value. Tuning will be less precise, but it will finish in a reasonable time. The ntree parameter can then be increased for the final model.
Subsampling. Uses a smaller, representative subsample of the data (e.g., 10-20% of your data) to find a good mtry value on the subsample.

"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">cloud2trees</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.7.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/cloud2trees-setup.html">Setup</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>implements steps to mitigate very long run-times when tuning random forests models</h1>

      <div class="d-none name"><code>rf_tune_subsample.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>rf_tune_subsample()</code> implements steps to mitigate very long run-times when tuning random forests models.
<code><a href="https://rdrr.io/pkg/randomForest/man/tuneRF.html" class="external-link">randomForest::tuneRF()</a></code> enables model tuning by searching for the optimal <code>mtry</code> parameter (the number of variables randomly sampled as candidates at each split) using a cross-validation approach.
However, computational cost increases significantly with the number of observations as <code><a href="https://rdrr.io/pkg/randomForest/man/tuneRF.html" class="external-link">randomForest::tuneRF()</a></code> performs cross-validation internally for each <code>mtry</code> value it tries.
With 100,000+ observations, each of these cross-validation runs involves building and evaluating many random forest trees, making the process very time-consuming.</p>
<p>The computational cost of random forests is driven by the repeated tree building process,
which involves recursive partitioning, bootstrapping, and feature subset selection.
These operations, when performed on massive datasets, result in a significant computational burden.</p>
<p><code>rf_tune_subsample()</code> remedies these issues via:</p><ul><li><p>Reducing the <code>ntreeTry</code> parameter to a smaller value. Tuning will be less precise, but it will finish in a reasonable time. The <code>ntree</code> parameter can then be increased for the final model.</p></li>
<li><p>Subsampling. Uses a smaller, representative subsample of the data (e.g., 10-20% of your data) to find a good <code>mtry</code> value on the subsample.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">rf_tune_subsample</span><span class="op">(</span></span>
<span>  <span class="va">predictors</span>,</span>
<span>  <span class="va">response</span>,</span>
<span>  threshold <span class="op">=</span> <span class="fl">14444</span>,</span>
<span>  n_subsamples <span class="op">=</span> <span class="fl">4</span>,</span>
<span>  ntree_try <span class="op">=</span> <span class="fl">44</span>,</span>
<span>  step_factor <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  improve <span class="op">=</span> <span class="fl">0.03</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-predictors">predictors<a class="anchor" aria-label="anchor" href="#arg-predictors"></a></dt>
<dd><p>data.frame. predictor variable (x) data</p></dd>


<dt id="arg-response">response<a class="anchor" aria-label="anchor" href="#arg-response"></a></dt>
<dd><p>numeric. vector of response variable (y) data. observations should be ordered to match those in <code>predictors</code></p></dd>


<dt id="arg-threshold">threshold<a class="anchor" aria-label="anchor" href="#arg-threshold"></a></dt>
<dd><p>numeric. the threshold number of observations, if observations exceed this threshold, subsampling is implemented</p></dd>


<dt id="arg-n-subsamples">n_subsamples<a class="anchor" aria-label="anchor" href="#arg-n-subsamples"></a></dt>
<dd><p>numeric. number of times to subsample and tune using <code><a href="https://rdrr.io/pkg/randomForest/man/tuneRF.html" class="external-link">randomForest::tuneRF()</a></code>. The most common optimal <code>mtry</code> is returned from these subsample iterations.</p></dd>


<dt id="arg-ntree-try">ntree_try<a class="anchor" aria-label="anchor" href="#arg-ntree-try"></a></dt>
<dd><p>numeric. see <code><a href="https://rdrr.io/pkg/randomForest/man/tuneRF.html" class="external-link">randomForest::tuneRF()</a></code></p></dd>


<dt id="arg-step-factor">step_factor<a class="anchor" aria-label="anchor" href="#arg-step-factor"></a></dt>
<dd><p>numeric. see <code><a href="https://rdrr.io/pkg/randomForest/man/tuneRF.html" class="external-link">randomForest::tuneRF()</a></code></p></dd>


<dt id="arg-improve">improve<a class="anchor" aria-label="anchor" href="#arg-improve"></a></dt>
<dd><p>numeric. see <code><a href="https://rdrr.io/pkg/randomForest/man/tuneRF.html" class="external-link">randomForest::tuneRF()</a></code></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A numeric value to use in the <code>mtry</code> parameter of <code><a href="https://rdrr.io/pkg/randomForest/man/randomForest.html" class="external-link">randomForest::randomForest()</a></code></p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by .</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

